%uczenie predyktora oe
clear all;
n=0; farx(n+1)=5.263142e+003; foe(n+1)=5.072494e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=4.058515e+003; foe(n+1)=3.891023e+003; krok(n+1)=2.638590e-004; ng(n+1)=3.703152e+003;
n=2; farx(n+1)=8.348995e+002; foe(n+1)=6.434141e+002; krok(n+1)=8.402186e-003; ng(n+1)=1.303766e+003;
n=3; farx(n+1)=7.494864e+002; foe(n+1)=5.749163e+002; krok(n+1)=2.117778e-004; ng(n+1)=2.038636e+003;
n=4; farx(n+1)=7.768117e+002; foe(n+1)=5.292585e+002; krok(n+1)=1.622016e-004; ng(n+1)=2.639683e+003;
n=5; farx(n+1)=6.605544e+002; foe(n+1)=4.359837e+002; krok(n+1)=2.633328e-004; ng(n+1)=2.013685e+003;
n=6; farx(n+1)=4.193009e+002; foe(n+1)=4.077330e+002; krok(n+1)=1.548092e-003; ng(n+1)=8.557841e+002;
n=7; farx(n+1)=3.140763e+002; foe(n+1)=3.743302e+002; krok(n+1)=1.934772e-003; ng(n+1)=1.183938e+003;
n=8; farx(n+1)=2.220694e+002; foe(n+1)=3.496411e+002; krok(n+1)=1.185775e-003; ng(n+1)=1.373317e+003;
n=9; farx(n+1)=1.503700e+002; foe(n+1)=3.247944e+002; krok(n+1)=2.247378e-004; ng(n+1)=5.471959e+003;
n=10; farx(n+1)=1.197435e+002; foe(n+1)=3.118515e+002; krok(n+1)=4.532388e-004; ng(n+1)=9.181958e+003;
n=11; farx(n+1)=1.103961e+002; foe(n+1)=3.099074e+002; krok(n+1)=1.874208e-004; ng(n+1)=1.102136e+004;
n=12; farx(n+1)=9.125937e+001; foe(n+1)=2.980392e+002; krok(n+1)=8.259539e-004; ng(n+1)=1.283799e+004;
n=13; farx(n+1)=8.218857e+001; foe(n+1)=2.900838e+002; krok(n+1)=7.559922e-004; ng(n+1)=1.142799e+004;
n=14; farx(n+1)=6.911876e+001; foe(n+1)=2.822643e+002; krok(n+1)=6.326141e-004; ng(n+1)=8.834396e+003;
n=15; farx(n+1)=6.726479e+001; foe(n+1)=2.790718e+002; krok(n+1)=3.369218e-004; ng(n+1)=7.162296e+003;
n=16; farx(n+1)=6.550962e+001; foe(n+1)=2.753483e+002; krok(n+1)=1.102111e-003; ng(n+1)=7.145460e+003;
n=17; farx(n+1)=6.090826e+001; foe(n+1)=2.633314e+002; krok(n+1)=2.973498e-003; ng(n+1)=5.450502e+003;
n=18; farx(n+1)=6.267505e+001; foe(n+1)=2.487019e+002; krok(n+1)=1.100811e-003; ng(n+1)=4.418114e+003;
n=19; farx(n+1)=7.008069e+001; foe(n+1)=2.376882e+002; krok(n+1)=2.022099e-003; ng(n+1)=3.936540e+003;
n=20; farx(n+1)=8.182503e+001; foe(n+1)=2.217558e+002; krok(n+1)=7.138862e-004; ng(n+1)=4.026453e+003;
n=21; farx(n+1)=7.972097e+001; foe(n+1)=2.133196e+002; krok(n+1)=3.409550e-003; ng(n+1)=1.676739e+003;
n=22; farx(n+1)=5.281355e+001; foe(n+1)=2.029045e+002; krok(n+1)=1.706649e-002; ng(n+1)=1.171341e+003;
n=23; farx(n+1)=4.465727e+001; foe(n+1)=1.855573e+002; krok(n+1)=1.812955e-003; ng(n+1)=3.894760e+003;
n=24; farx(n+1)=4.018691e+001; foe(n+1)=1.765501e+002; krok(n+1)=2.926191e-003; ng(n+1)=1.842112e+003;
n=25; farx(n+1)=4.183873e+001; foe(n+1)=1.237216e+002; krok(n+1)=1.109636e-002; ng(n+1)=1.360503e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=3.887253e+001; foe(n+1)=1.116062e+002; krok(n+1)=3.542495e-006; ng(n+1)=8.090041e+003;
n=27; farx(n+1)=3.570325e+001; foe(n+1)=1.017773e+002; krok(n+1)=3.022327e-005; ng(n+1)=1.707496e+003;
n=28; farx(n+1)=3.423868e+001; foe(n+1)=9.260689e+001; krok(n+1)=1.733806e-004; ng(n+1)=9.624213e+002;
n=29; farx(n+1)=3.230112e+001; foe(n+1)=7.591799e+001; krok(n+1)=1.022356e-004; ng(n+1)=2.372527e+003;
n=30; farx(n+1)=2.843381e+001; foe(n+1)=6.442218e+001; krok(n+1)=1.906434e-004; ng(n+1)=1.531998e+003;
n=31; farx(n+1)=2.752513e+001; foe(n+1)=6.219484e+001; krok(n+1)=4.957630e-004; ng(n+1)=1.643415e+003;
n=32; farx(n+1)=2.520633e+001; foe(n+1)=5.490682e+001; krok(n+1)=2.435962e-003; ng(n+1)=4.665710e+003;
n=33; farx(n+1)=2.295158e+001; foe(n+1)=5.069377e+001; krok(n+1)=2.415320e-003; ng(n+1)=1.289649e+003;
n=34; farx(n+1)=2.027037e+001; foe(n+1)=4.729567e+001; krok(n+1)=1.402097e-003; ng(n+1)=7.566535e+002;
n=35; farx(n+1)=1.554037e+001; foe(n+1)=4.067781e+001; krok(n+1)=1.095618e-002; ng(n+1)=2.262352e+003;
n=36; farx(n+1)=1.517807e+001; foe(n+1)=3.977563e+001; krok(n+1)=3.467612e-004; ng(n+1)=8.833376e+002;
n=37; farx(n+1)=1.409172e+001; foe(n+1)=3.766917e+001; krok(n+1)=4.399860e-003; ng(n+1)=2.073742e+003;
n=38; farx(n+1)=1.088098e+001; foe(n+1)=3.182253e+001; krok(n+1)=9.409526e-003; ng(n+1)=5.232336e+002;
n=39; farx(n+1)=8.499008e+000; foe(n+1)=2.758391e+001; krok(n+1)=4.174641e-003; ng(n+1)=1.904041e+003;
n=40; farx(n+1)=7.886615e+000; foe(n+1)=2.684646e+001; krok(n+1)=1.767909e-002; ng(n+1)=1.659376e+003;
n=41; farx(n+1)=7.194450e+000; foe(n+1)=2.518520e+001; krok(n+1)=9.041785e-003; ng(n+1)=1.721281e+003;
n=42; farx(n+1)=6.950231e+000; foe(n+1)=2.489670e+001; krok(n+1)=1.078975e-003; ng(n+1)=8.781493e+002;
n=43; farx(n+1)=6.582315e+000; foe(n+1)=2.393980e+001; krok(n+1)=1.199953e-002; ng(n+1)=3.364344e+002;
n=44; farx(n+1)=5.482742e+000; foe(n+1)=2.223612e+001; krok(n+1)=2.578794e-002; ng(n+1)=4.395732e+002;
n=45; farx(n+1)=5.136990e+000; foe(n+1)=2.173661e+001; krok(n+1)=4.544795e-002; ng(n+1)=1.920427e+003;
n=46; farx(n+1)=4.430056e+000; foe(n+1)=1.980014e+001; krok(n+1)=6.524238e-002; ng(n+1)=1.356745e+003;
n=47; farx(n+1)=3.871007e+000; foe(n+1)=1.726228e+001; krok(n+1)=1.067078e-001; ng(n+1)=1.530540e+003;
n=48; farx(n+1)=3.850581e+000; foe(n+1)=1.611278e+001; krok(n+1)=7.236188e-002; ng(n+1)=3.465523e+003;
n=49; farx(n+1)=3.631746e+000; foe(n+1)=1.460764e+001; krok(n+1)=5.042484e-002; ng(n+1)=1.849515e+003;
n=50; farx(n+1)=3.531966e+000; foe(n+1)=1.392222e+001; krok(n+1)=1.545508e-001; ng(n+1)=4.705927e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.530078e+000; foe(n+1)=1.364228e+001; krok(n+1)=2.581649e-006; ng(n+1)=1.250520e+003;
n=52; farx(n+1)=3.420981e+000; foe(n+1)=1.312482e+001; krok(n+1)=2.044242e-005; ng(n+1)=6.014444e+002;
n=53; farx(n+1)=3.354278e+000; foe(n+1)=1.297028e+001; krok(n+1)=1.855907e-005; ng(n+1)=3.552979e+002;
n=54; farx(n+1)=3.293677e+000; foe(n+1)=1.271705e+001; krok(n+1)=3.325065e-004; ng(n+1)=1.386652e+002;
n=55; farx(n+1)=3.330465e+000; foe(n+1)=1.241327e+001; krok(n+1)=3.921839e-004; ng(n+1)=1.523880e+002;
n=56; farx(n+1)=3.254125e+000; foe(n+1)=1.202258e+001; krok(n+1)=1.100811e-003; ng(n+1)=9.509137e+001;
n=57; farx(n+1)=3.140483e+000; foe(n+1)=1.129962e+001; krok(n+1)=1.300172e-003; ng(n+1)=2.159104e+002;
n=58; farx(n+1)=3.141816e+000; foe(n+1)=1.118894e+001; krok(n+1)=1.903300e-003; ng(n+1)=1.034269e+003;
n=59; farx(n+1)=3.010277e+000; foe(n+1)=1.090673e+001; krok(n+1)=5.062842e-003; ng(n+1)=6.621776e+002;
n=60; farx(n+1)=2.743197e+000; foe(n+1)=1.035155e+001; krok(n+1)=6.496894e-003; ng(n+1)=8.167421e+002;
n=61; farx(n+1)=2.719804e+000; foe(n+1)=1.026402e+001; krok(n+1)=1.667309e-003; ng(n+1)=1.063279e+003;
n=62; farx(n+1)=2.593421e+000; foe(n+1)=1.005788e+001; krok(n+1)=1.877194e-002; ng(n+1)=6.216549e+002;
n=63; farx(n+1)=2.472222e+000; foe(n+1)=9.865573e+000; krok(n+1)=1.621660e-002; ng(n+1)=7.409665e+002;
n=64; farx(n+1)=2.431518e+000; foe(n+1)=9.808103e+000; krok(n+1)=3.660091e-002; ng(n+1)=7.339285e+002;
n=65; farx(n+1)=2.514468e+000; foe(n+1)=9.576661e+000; krok(n+1)=3.688951e-002; ng(n+1)=7.461658e+002;
n=66; farx(n+1)=2.467760e+000; foe(n+1)=9.377430e+000; krok(n+1)=4.663470e-002; ng(n+1)=5.138225e+002;
n=67; farx(n+1)=2.322232e+000; foe(n+1)=8.933993e+000; krok(n+1)=4.834060e-002; ng(n+1)=5.360112e+002;
n=68; farx(n+1)=2.220028e+000; foe(n+1)=8.786650e+000; krok(n+1)=3.586741e-002; ng(n+1)=2.814730e+002;
n=69; farx(n+1)=2.161658e+000; foe(n+1)=8.686949e+000; krok(n+1)=3.320390e-002; ng(n+1)=4.832470e+002;
n=70; farx(n+1)=1.898547e+000; foe(n+1)=8.454973e+000; krok(n+1)=2.909773e-001; ng(n+1)=3.507479e+002;
n=71; farx(n+1)=1.942718e+000; foe(n+1)=8.222444e+000; krok(n+1)=9.282613e-002; ng(n+1)=7.775036e+002;
n=72; farx(n+1)=1.980646e+000; foe(n+1)=7.884685e+000; krok(n+1)=8.973318e-002; ng(n+1)=9.823424e+002;
n=73; farx(n+1)=1.784089e+000; foe(n+1)=7.502767e+000; krok(n+1)=1.310933e-001; ng(n+1)=8.228268e+002;
n=74; farx(n+1)=1.667079e+000; foe(n+1)=7.362156e+000; krok(n+1)=3.170262e-001; ng(n+1)=2.718307e+002;
n=75; farx(n+1)=1.415382e+000; foe(n+1)=6.871773e+000; krok(n+1)=8.127796e-001; ng(n+1)=1.692006e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.419076e+000; foe(n+1)=6.734389e+000; krok(n+1)=1.656948e-006; ng(n+1)=1.071648e+003;
n=77; farx(n+1)=1.416571e+000; foe(n+1)=6.700569e+000; krok(n+1)=7.581373e-006; ng(n+1)=2.513111e+002;
n=78; farx(n+1)=1.423088e+000; foe(n+1)=6.694276e+000; krok(n+1)=2.480406e-005; ng(n+1)=6.995846e+001;
n=79; farx(n+1)=1.411616e+000; foe(n+1)=6.659108e+000; krok(n+1)=3.790794e-004; ng(n+1)=3.605189e+001;
n=80; farx(n+1)=1.451224e+000; foe(n+1)=6.395939e+000; krok(n+1)=2.883948e-003; ng(n+1)=4.217581e+001;
n=81; farx(n+1)=1.498078e+000; foe(n+1)=6.211844e+000; krok(n+1)=6.650130e-004; ng(n+1)=2.289230e+002;
n=82; farx(n+1)=1.499555e+000; foe(n+1)=6.171088e+000; krok(n+1)=7.878882e-004; ng(n+1)=5.711278e+002;
n=83; farx(n+1)=1.498705e+000; foe(n+1)=6.128794e+000; krok(n+1)=2.998733e-003; ng(n+1)=6.131723e+002;
n=84; farx(n+1)=1.499193e+000; foe(n+1)=6.113419e+000; krok(n+1)=1.520298e-003; ng(n+1)=7.567843e+002;
n=85; farx(n+1)=1.497115e+000; foe(n+1)=6.074477e+000; krok(n+1)=1.799391e-002; ng(n+1)=7.112830e+002;
n=86; farx(n+1)=1.496749e+000; foe(n+1)=6.055090e+000; krok(n+1)=8.252536e-003; ng(n+1)=6.509459e+002;
n=87; farx(n+1)=1.513057e+000; foe(n+1)=6.024758e+000; krok(n+1)=9.019129e-003; ng(n+1)=7.011970e+002;
n=88; farx(n+1)=1.478590e+000; foe(n+1)=5.913537e+000; krok(n+1)=6.225707e-002; ng(n+1)=5.483513e+002;
n=89; farx(n+1)=1.462990e+000; foe(n+1)=5.810870e+000; krok(n+1)=1.012183e-002; ng(n+1)=5.262767e+002;
n=90; farx(n+1)=1.450762e+000; foe(n+1)=5.758883e+000; krok(n+1)=1.660195e-002; ng(n+1)=6.987067e+002;
n=91; farx(n+1)=1.439599e+000; foe(n+1)=5.619444e+000; krok(n+1)=6.826594e-002; ng(n+1)=3.974515e+002;
n=92; farx(n+1)=1.429059e+000; foe(n+1)=5.485916e+000; krok(n+1)=5.286105e-002; ng(n+1)=2.354458e+002;
n=93; farx(n+1)=1.407033e+000; foe(n+1)=5.343468e+000; krok(n+1)=1.196783e-001; ng(n+1)=1.600814e+002;
n=94; farx(n+1)=1.606041e+000; foe(n+1)=5.274653e+000; krok(n+1)=8.343059e-002; ng(n+1)=1.946975e+002;
n=95; farx(n+1)=1.592788e+000; foe(n+1)=5.216316e+000; krok(n+1)=8.662598e-002; ng(n+1)=1.683957e+002;
n=96; farx(n+1)=1.582395e+000; foe(n+1)=5.055547e+000; krok(n+1)=7.445763e-002; ng(n+1)=2.556177e+002;
n=97; farx(n+1)=1.584932e+000; foe(n+1)=4.986362e+000; krok(n+1)=1.946507e-002; ng(n+1)=9.889302e+002;
n=98; farx(n+1)=1.583420e+000; foe(n+1)=4.905035e+000; krok(n+1)=1.701816e-001; ng(n+1)=4.613069e+002;
n=99; farx(n+1)=1.597214e+000; foe(n+1)=4.777298e+000; krok(n+1)=2.006794e-001; ng(n+1)=2.191986e+002;
n=100; farx(n+1)=1.498595e+000; foe(n+1)=4.626267e+000; krok(n+1)=4.112198e-001; ng(n+1)=1.498427e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
